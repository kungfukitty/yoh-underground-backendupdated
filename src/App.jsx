import React from 'react';import { Routes, Route, Navigate, Link } from 'react-router-dom';import EnterCode from './pages/public/EnterCode.jsx';import Login from './pages/public/Login.jsx';import Dashboard from './pages/user/Dashboard.jsx';import AdminDashboard from './pages/admin/AdminDashboard.jsx';import Requests from './pages/admin/Requests.jsx';import Users from './pages/admin/Users.jsx';import Packages from './pages/admin/Packages.jsx';import Itineraries from './pages/admin/Itineraries.jsx';import Payments from './pages/admin/Payments.jsx';import useAuth from './hooks/useAuth.js';function Guard({ role, children }){ const { user } = useAuth(); if(!user) return <Navigate to='/login' replace/>; if(role && user.role!==role) return <Navigate to='/dashboard' replace/>; return children } export default function App(){ return (<div className='min-h-screen'><Routes><Route path='/' element={<Navigate to='/dashboard' replace/>} /><Route path='/enter-code' element={<EnterCode/>}/><Route path='/login' element={<Login/>}/><Route path='/dashboard' element={<Guard><Dashboard/></Guard>} /><Route path='/admin' element={<Guard role='admin'><AdminDashboard/></Guard>} /><Route path='/admin/requests' element={<Guard role='admin'><Requests/></Guard>} /><Route path='/admin/users' element={<Guard role='admin'><Users/></Guard>} /><Route path='/admin/packages' element={<Guard role='admin'><Packages/></Guard>} /><Route path='/admin/itineraries' element={<Guard role='admin'><Itineraries/></Guard>} /><Route path='/admin/payments' element={<Guard role='admin'><Payments/></Guard>} /><Route path='*' element={<div className='p-8'>Not found. <Link to='/dashboard' className='underline'>Go Home</Link></div>} /></Routes></div>) }