import React,{useEffect,useState} from 'react';import useAuth from '../../hooks/useAuth';import { api } from '../../api/apiClient';export default function Requests(){const { token }=useAuth();const [items,setItems]=useState([]);const [err,setErr]=useState('');useEffect(()=>{api.adminRequests(token).then(d=>setItems(d.items||[])).catch(e=>setErr(e.error||'Failed'))},[token]);return(<div className='max-w-5xl mx-auto p-6'><h1 className='text-2xl font-semibold mb-4'>Access Requests</h1>{err&&<div className='text-sm text-red-600 mb-2'>{err}</div>}<div className='space-y-3'>{items.map(r=>(<div key={r.id} className='card p-4 flex items-center justify-between'><div><div className='font-medium'>{r.fullName}</div><div className='text-sm text-gray-600'>{r.email} â€¢ {r.social}</div></div><div className='flex gap-2'><button className='btn' onClick={()=>api.approveRequest(token,r.id).then(()=>location.reload())}>Approve</button><button className='btn' onClick={()=>api.declineRequest(token,r.id).then(()=>location.reload())}>Decline</button></div></div>))}{items.length===0&&<div className='text-sm text-gray-600'>No pending requests.</div>}</div></div>) }