import React,{useState} from 'react';import { api } from '../../api/apiClient';import { useNavigate } from 'react-router-dom';export default function EnterCode(){const [code,setCode]=useState('');const [email,setEmail]=useState('');const [agree,setAgree]=useState(false);const [err,setErr]=useState('');const [loading,setLoading]=useState(false);const nav=useNavigate();async function handleContinue(){setErr('');if(!code) return setErr('Enter your access code.');if(!agree) return setErr('You must agree to the Mutual NDA to proceed.');setLoading(true);try{const check=await api.verifyCode(code,email||undefined);await api.acceptNDA({codeId:check.codeId,ndaVersion:check.ndaVersion,email:email||undefined});nav('/login')}catch(e){setErr(e.error||'Unable to verify code.')}finally{setLoading(false)}}return(<div className='min-h-screen flex items-center justify-center p-6'><div className='card max-w-md w-full p-8'><h1 className='text-2xl font-semibold mb-6'>Private Member Access</h1><div className='space-y-4'><div><div className='text-xs'>Access Code</div><input className='input' value={code} onChange={e=>setCode(e.target.value)} placeholder='XXXX-XXXX'/></div><div><div className='text-xs'>Email (optional)</div><input className='input' value={email} onChange={e=>setEmail(e.target.value)} placeholder='you@email.com'/></div><div className='text-sm text-gray-600'>To protect member privacy, this portal is covered by the <a href='#' className='underline'>YOH Mutual NDA</a>. By continuing, you agree to the NDA and Privacy Policy.</div><label className='flex items-center gap-2 text-sm'><input type='checkbox' checked={agree} onChange={e=>setAgree(e.target.checked)}/>I agree to the YOH Mutual NDA.</label>{err&&<div className='text-sm text-red-600'>{err}</div>}<button className='btn w-full' onClick={handleContinue} disabled={loading}>{loading?'Processing...':'Continue'}</button></div></div></div>) }